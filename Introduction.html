<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>The IPBES Guide on the production of assessments</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-630147fbe0b9ab2b2a517857e522e257.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">The IPBES Guide on the production of assessments</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./todos.html"> 
<span class="menu-text">TODOs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./Introduction.html" aria-current="page"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Stage_1.html"> 
<span class="menu-text">Stage 1</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Stage_2.html"> 
<span class="menu-text">Stage 2</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Stage_3.html"> 
<span class="menu-text">Stage 3</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Stage_4.html"> 
<span class="menu-text">Stage 4</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Complete.html"> 
<span class="menu-text">Complete</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#acronyms-glossary" id="toc-acronyms-glossary" class="nav-link active" data-scroll-target="#acronyms-glossary">Acronyms / glossary</a></li>
  <li><a href="#list-of-boxes" id="toc-list-of-boxes" class="nav-link" data-scroll-target="#list-of-boxes">List of Boxes</a></li>
  <li><a href="#list-of-figures" id="toc-list-of-figures" class="nav-link" data-scroll-target="#list-of-figures">List of Figures</a></li>
  <li><a href="#list-of-tables" id="toc-list-of-tables" class="nav-link" data-scroll-target="#list-of-tables">List of Tables</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  <li><a href="#introduction-to-ipbes" id="toc-introduction-to-ipbes" class="nav-link" data-scroll-target="#introduction-to-ipbes">Introduction to IPBES</a>
  <ul class="collapse">
  <li><a href="#what-is-an-ipbes-assessment" id="toc-what-is-an-ipbes-assessment" class="nav-link" data-scroll-target="#what-is-an-ipbes-assessment">What is an IPBES assessment?</a></li>
  <li><a href="#what-are-the-operating-principles-functions-and-rules-followed-by-ipbes" id="toc-what-are-the-operating-principles-functions-and-rules-followed-by-ipbes" class="nav-link" data-scroll-target="#what-are-the-operating-principles-functions-and-rules-followed-by-ipbes">What are the operating principles, functions and rules followed by IPBES?</a></li>
  <li><a href="#how-to-use-this-guide" id="toc-how-to-use-this-guide" class="nav-link" data-scroll-target="#how-to-use-this-guide">How to use this Guide</a></li>
  </ul></li>
  <li><a href="#the-ipbes-assessment-process" id="toc-the-ipbes-assessment-process" class="nav-link" data-scroll-target="#the-ipbes-assessment-process">2. The IPBES assessment process</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The IPBES Guide on the production of assessments</h1>
<p class="subtitle lead">Core version</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="acronyms-glossary" class="level1">
<h1>Acronyms / glossary</h1>
</section>
<section id="list-of-boxes" class="level1">
<h1>List of Boxes</h1>
</section>
<section id="list-of-figures" class="level1">
<h1>List of Figures</h1>
</section>
<section id="list-of-tables" class="level1">
<h1>List of Tables</h1>
</section>
<section id="references" class="level1">
<h1>References</h1>
</section>
<section id="introduction-to-ipbes" class="level1">
<h1>Introduction to IPBES</h1>
<p>The world’s <em>biodiversity</em> generates a wide range of benefits to society, often termed <em>ecosystem services.</em>[^1] Many of these services are under threat due to unsustainable human practices. Policies for rectifying such practices often benefit from a legitimate and credible bridging of science and policy and the establishment of the confidence level of the knowledge at hand. This is why the Intergovernmental Science-Policy Platform on Biodiversity and Ecosystem Services (IPBES) was established in 2012, inspired by the Intergovernmental Panel on Climate Change (IPCC) and the Millennium Ecosystem Assessment (MA).</p>
<p>IPBES aims to strengthen the science-policy interface for biodiversity and ecosystem services in order to understand the dynamics in human-nature interactions. It does so by undertaking international assessments and promoting national ones; by catalysing knowledge generation; by promoting the development and use of policy support tools; and by undertaking and facilitating capacity building. It also does so by supporting international initiatives and strategies such as:</p>
<ul>
<li>The 2030 Agenda for Sustainable Development and its Sustainable Development Goals (SDGs) of the UN General Assembly; and</li>
<li>Those under the Convention on Biological Diversity and the United Nations Convention to Combat Desertification.</li>
</ul>
<p>Knowledge on how biodiversity contributes to humanity is vital to achieve sustainable development. These contributions termed ecosystem services or nature’s contribution to people are maintained through policies for conservation and the sustainable use of biodiversity. IPBES assesses ecosystem services through the lens of nature's contributions to people as anchored in the IPBES <em>Conceptual Framework</em> (CF). The framework models the interactions between people and nature, and presents scientific concepts and parallel notions from indigenous and local knowledge systems under inclusive new concepts (Diaz et. al., 2015). One of the key overarching inclusive concepts is "<em>nature’s contributions to people</em>" (NCP) (Pascual et. al., 2017). It includes and allows for the assessment of both the scientific concept of "ecosystem goods and services" and the notion of "nature's gifts" from indigenous and local knowledge systems. NCP can be beneficial or detrimental to people depending on the cultural context and is assessed from two mutually supportive perspectives: a generalizable and a contextual perspective. The generalizable perspective includes 18 NCP reporting categories organized in three partially overlapping groups: regulating, material and non-material contributions. The contextual perspective caters for the geographical and cultural specificities of indigenous and local knowledge systems. This inclusive approach allows for the reflection of a diverse range of scientific and social disciplines, perspectives and knowledge systems.</p>
<p>IPBES <em>critically evaluates the state of knowledge</em> on the interactions between human societies and the natural world.[^2] An IPBES assessment is initiated by the Plenary and performed by independent experts from multiple disciplines and from all regions of the world who contribute their time freely.[^3] These experts interact with government representatives and other stakeholders in a stepwise process to ensure legitimacy, relevance and credibility. IPBES synthesises and assesses available policy-relevant knowledge regarding biodiversity and its contributions to human well-being in response to requests from governments and other stakeholders. These assessments include a summary for policymakers (SPM), consisting of policy relevant key messages drawn from a report made of detailed technical chapters. The assessment relies on financial and in-kind contributions from governments, experts and partners according to the institutional arrangements and agreed norms.</p>
<p>This Guide aims to help address conceptual, procedural and practical aspects of the IPBES assessments at all scales, and to promote consistency across different scales.[^4] The Guide serves as a ‘Roadmap’ and focuses on key elements assessment practitioners may want to take into account when undertaking an assessment within the context of IPBES.</p>
<p>The Guide has been developed for experts who are taking part in assessments approved under IPBES, be they thematic, methodological or general assessments of biodiversity and ecosystems at global, regional and sub-regional levels. The Guide is also meant to assist those who might want to undertake IPBES inspired assessments at sub-regional, national and local levels and to help ensure that such assessments are compatible with larger scale IPBES completed assessments.</p>
<section id="what-is-an-ipbes-assessment" class="level2">
<h2 class="anchored" data-anchor-id="what-is-an-ipbes-assessment">What is an IPBES assessment?</h2>
<p>IPBES assessments synthesize and critically evaluate peer-reviewed scientific literature, grey literature and other available knowledge, such as indigenous and local knowledge. The assessments include a review and synthesis, as well as an analysis and an expert judgement of available knowledge. Experts are guided in this work by a conceptual framework outlining the interaction between people and nature and by guidance on the conceptualization of values of biodiversity and nature's contributions to people. An assessment does not involve the undertaking of new primary research but may include re‑analysis of data and models to address specific questions. Findings should be policy relevant but not policy-prescriptive. They could feed into and be guided by the work on policy support tools and methodologies, including its catalogue.[^5]</p>
<p>IPBES assessments need to be credible, legitimate and relevant. They typically:</p>
<ul>
<li><strong>Involve governments and other stakeholders</strong> in the initiation, scoping, review and adoption of the assessment reports (this involvement promotes credibility, legitimacy and relevance at policy level);</li>
<li><strong>Operate through an open and transparent process</strong>, run by a group of experts that has a balance of disciplines, geography and gender, and who use agreed conceptual frameworks, methodologies and support tools, as well as are subject to independent peer review (this process promotes credibility, legitimacy and relevance at scientific level); and</li>
<li><strong>Present findings and knowledge gaps</strong> that are policy relevant but not policy prescriptive, where the level of confidence and the range of available views are presented in an unbiased way (this approach promotes relevance at both scientific and policy level).</li>
</ul>
<p>IPBES assessments not only focus on what is known, but also on what is currently uncertain. Assessments play an important role in guiding policy through identifying areas of broad scientific agreement as well as areas of scientific uncertainty that may need further research.</p>
<p>IPBES may undertake different types of assessments at sub-regional, regional and global levels. It also encourages and helps catalyse other assessments at lower scales, such as those with a local, national and a more limited sub-regional scope. IPBES is currently engaged in, has undertaken or has planned to undertake the following:</p>
<ul>
<li><p><strong>Global assessments</strong> to assess biodiversity and ecosystem services and their interlinkages at the global scales. The global assessments will draw upon the work undertaken by the regional assessments.</p></li>
<li><p><strong>Regional assessments</strong> to assess biodiversity and ecosystem services and their interlinkages at the regional and, as necessary, sub-regional levels (e.g., Africa, the Americas, Asia and the Pacific, and Europe and Central Asia). Regional assessments will provide the building blocks for the global assessments.</p></li>
<li><p><strong>Thematic assessments</strong> to assess a particular theme at an appropriate scale or a new topic (e.g., assessments of pollinators, pollination and food production, land degradation and restoration, invasive alien species and their control, and sustainable use).</p></li>
<li><p><strong>Methodological assessments</strong> to assess the availability and use of methods in relation with a specific topic (e.g., values, scenarios and models) so that these methods can then be used in IPBES assessments and other activities.</p></li>
</ul>
</section>
<section id="what-are-the-operating-principles-functions-and-rules-followed-by-ipbes" class="level2">
<h2 class="anchored" data-anchor-id="what-are-the-operating-principles-functions-and-rules-followed-by-ipbes">What are the operating principles, functions and rules followed by IPBES?</h2>
<p>IPBES is defined by a set of operating principles and functions, and is implemented thanks to institutional arrangements, procedure programmes and other resources, as set out in Box 1.1.</p>
<p>The assessment relies on financial and in-kind contributions from governments, experts and partners according to the institutional arrangements and agreed norms.</p>
<div class="boxed">
<div id="box1-3" class="boxed-title">
Box 1.1: IPBES at a glance
</div>
<p><strong>Objective:</strong><br>
To strengthen the science-policy interface for biodiversity and ecosystem services for the conservation and sustainable use of biodiversity, long-term human well-being and sustainable development.</p>
<p><strong>Operating principles:</strong><br>
IPBES addresses terrestrial, marine and inland water biodiversity and ecosystem services and their interactions, ensuring the Platform’s credibility, relevance and legitimacy, as well as promoting its independence.<br>
The Principles further include: facilitating an interdisciplinary and multidisciplinary approach; engaging with different knowledge systems, including indigenous and local knowledge; recognizing the need for gender equity in its work; ensuring full and effective participation of developing countries; ensuring the full use of knowledge gained at all spatial scales, from local to global; integrating capacity-building into all relevant aspects of its work; and promoting a collaborative approach which builds on existing initiatives and experiences.</p>
<p><strong>Functions</strong> - Catalyse the <em>generation of new knowledge</em> to address gaps in knowledge identified in IPBES assessments. - Deliver global, regional, sub-regional and thematic <em>assessments</em>, and promote and facilitate assessments at the national level at the same time. | - The development and use of <em>policy support tools</em> and methodologies so that assessment results can be more effectively applied. - Identify and prioritize <em>capacity building</em> needs for improving the science-policy interface at appropriate levels, and provide, call for and facilitate access to the necessary resources for addressing the highest priority needs directly relating to its activities.</p>
<p><strong>Institutional arrangements</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Final text - IPBES guide for assessments - M.NS18.6/media/image1.jpeg" style="width:3.87in;height:2.44in" class="figure-img"></p>
<figcaption>Multilevel structure diagram</figcaption>
</figure>
</div>
<p><strong>Procedures, programmes and other resources</strong> - Rules of procedure for the Plenary - Financial procedures - Procedure for receiving and prioritizing requests put to the platform - The work programme - Conceptual framework - Procedures for the preparation of Platform deliverables - Guidelines on how to carry out work in the context of IPBES (assessments, scenarios, valuation) - Catalogues (of assessments and policy support tools) - Information and data management plan - Strategic partnerships - Stakeholder engagement and outreach</p>
</div>
</section>
<section id="how-to-use-this-guide" class="level2">
<h2 class="anchored" data-anchor-id="how-to-use-this-guide">How to use this Guide</h2>
<p><strong>This Assessment Guide is aimed at those who are involved in an IPBES assessment, such as co‑chairs, authors, review editors and members of the technical support units (TSUs).</strong> The core part of the Guide sets out the four stages of an IPBES assessment and their different steps. It then sets out the roles and responsibilities of the different actors involved in an assessment. Additionally, guidance is provided on developing an SPM and on using confidence terms. The Guide is supported by a series of modules (see Box 1.2), which contain further information for those involved in IPBES assessments, and other resources such as webinars, e-learning modules, and the IPBES Catalogue for Policy Support Tools and Methodologies (see Box 1.3).</p>
<div class="boxed">
<div id="box1-3" class="boxed-title">
Box 1.2: Modules of the IPBES Assessment Guide
</div>
<ul>
<li><strong>A: <em>Addressing conceptual issues</em></strong> – the IPBES Conceptual Framework, IPBES terrestrial and aquatic units of analysis, and the IPBES Classification of Nature’s Contributions to People.<br>
</li>
<li><strong>B: <em>Use of methodologies in assessments</em></strong> – conceptualising values, scenarios and models, and indigenous and local knowledge systems.<br>
</li>
<li><strong>C: <em>Identifying and assessing data, information and knowledge resources and gaps</em></strong> – data and indicators.<br>
</li>
<li><strong>D: <em>Enhancing the utility of assessments for decision-makers and practitioners</em></strong> – policy support tools and methodologies, methodological guidance for assessing policy support tools and methodologies/instruments within an IPBES assessment.<br>
</li>
<li><strong>E: <em>Approaches to undertaking a government review</em></strong>.<br>
</li>
<li><strong>F: <em>Strengthening capacities in the science-policy interface</em></strong> – how to address capacity building in assessments.<br>
</li>
<li><strong>G: <em>Undertaking a national ecosystem assessment</em></strong>.<br>
</li>
<li><strong>H: <em>IPBES core glossary.</em></strong></li>
</ul>
</div>
<p>Within each of the modules, assessment practitioners can find information around concepts, recommended practical steps and key resources, as well as guidelines, plans, strategies and approaches. When the modules become available, they can be downloaded individually from: <a href="https://www.ipbes.net/deliverables/2a-assessment-integration" class="uri">https://www.ipbes.net/deliverables/2a-assessment-integration</a>. This Guide, including the supporting modules, is considered a living document. It will be updated periodically to reflect the ongoing work on the Platform with new modules and sub-modules being added as required. Therefore, users are recommended to always ensure that they have the latest version of the Guide, which is downloadable from the IPBES website.</p>
<div class="boxed">
<div id="box1-3" class="boxed-title">
Box 1.3: Other key IPBES resources
</div>
<ul>
<li><p><strong>IPBES e-learning modules</strong>: These cover different aspects of assessments and support the development of capacity. These can be accessed from the IPBES website: <a href="https://www.ipbes.net/e-learning">https://www.ipbes.net/e-learning</a></p></li>
<li><p><strong>IPBES webinar series:</strong> This webinar series covers different aspects of the assessment process, as well as the assessments themselves. <a href="https://www.ipbes.net/webinars">Webinars</a> can be downloaded from the IPBES website: <a href="https://www.ipbes.net/webinars">https://www.ipbes.net/webinars</a></p></li>
<li><p><strong>IPBES Guide for Conceptualising Values:</strong> This Guide contains further information on the identification and conceptualization of different values and complements the sub-module of the Assessment Guide. It can be accessed from the IPBES website: <a href="http://www.ipbes.net/guidance-and-conceptual-framework">www.ipbes.net/guidance-and-conceptual-framework</a> (IPBES/3/INF/7).[^6]</p></li>
<li><p><strong>IPBES Catalogue for Policy Support Tools and Methodologies</strong>: This contains information regarding a range of policy support tools and methodologies, and policy instruments. The <strong>IPBES Catalogue of Assessments</strong> brings together information on and experiences gained from undertaking assessments of biodiversity and ecosystem services, from the global to sub-national scale, and forms a component of this Catalogue. It can be accessed from the IPBES website: <a href="https://www.ipbes.net/policy-support">https://www.ipbes.net/policy-support</a></p></li>
</ul>
</div>
</section>
</section>
<section id="the-ipbes-assessment-process" class="level1">
<h1>2. The IPBES assessment process</h1>
<p>An IPBES assessment report is the result of a staged process designed to produce an enhanced understanding of knowledge needs and policy opportunities among actors in science and policy. This chapter presents the different stages involved in performing an IPBES assessment (see Figure 2.1).</p>
<ol type="1">
<li>Requests and scope</li>
<li>Expert evaluation of the state of knowledge</li>
<li>Approval/acceptance</li>
<li>Use of the assessment findings</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Final text - IPBES guide for assessments - M.NS18.6/media/image2.jpeg" style="width:7.125in;height:7.12986in" class="figure-img"></p>
<figcaption>cid:F6313F7A-AC5B-49D7-BE9D-431B826A206E@home</figcaption>
</figure>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/IPBES-Data\.github\.io\/IPBES_guide_assessment_production\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>